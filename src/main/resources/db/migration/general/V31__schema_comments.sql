COMMENT ON TABLE case_note_type IS 'First level categorisation of case notes';
COMMENT ON TABLE case_note_sub_type IS 'Second level categorisation of case notes grouped by type';
COMMENT ON TABLE case_note IS 'Individual case notes associated with a person identifier (prison number)';
COMMENT ON TABLE case_note_amendment IS 'Amendments added to case notes after creation';
COMMENT ON TABLE case_note_deleted IS 'Audit history of case notes hard deleted from the case_note table';

COMMENT ON COLUMN case_note_type.code IS 'Public primary key and the short code for the case note type';
COMMENT ON COLUMN case_note_type.description IS 'The description of the case note type';
COMMENT ON COLUMN case_note_type.created_at IS 'The date and time the case note type was created';
COMMENT ON COLUMN case_note_type.created_by IS 'The username of the user who created the case note type';
COMMENT ON COLUMN case_note_type.last_modified_at IS 'The date and time the case note type was last modified';
COMMENT ON COLUMN case_note_type.last_modified_by IS 'The username of the user who last modified the case note type';

COMMENT ON COLUMN case_note_sub_type.id IS 'Internal primary key. Not returned by API';
COMMENT ON COLUMN case_note_sub_type.type_code IS 'Foreign key to case note type';
COMMENT ON COLUMN case_note_sub_type.code IS 'Public unique identifier and the short code for the case note sub-type';
COMMENT ON COLUMN case_note_sub_type.description IS 'The description of the case note sub-type';
COMMENT ON COLUMN case_note_sub_type.active IS 'Active status of the case note sub-type';
COMMENT ON COLUMN case_note_sub_type.created_at IS 'The date and time the case note sub-type was created';
COMMENT ON COLUMN case_note_sub_type.created_by IS 'The username of the user who created the case note sub-type';
COMMENT ON COLUMN case_note_sub_type.last_modified_at IS 'The date and time the case note sub-type was last modified';
COMMENT ON COLUMN case_note_sub_type.last_modified_by IS 'The username of the user who last modified the case note sub-type';
COMMENT ON COLUMN case_note_sub_type.sensitive IS 'Case notes categorised by a sensitive sub-type may contain sensitive information and should only be displayed to POMs';
COMMENT ON COLUMN case_note_sub_type.restricted_use IS 'Only POMs can add case notes categorised with a restricted use sub-type';
COMMENT ON COLUMN case_note_sub_type.sync_to_nomis IS 'Whether the case notes associated with a sub-type are included in the two-way sync with NOMIS or exist only in the DPS database';
COMMENT ON COLUMN case_note_sub_type.dps_user_selectable IS 'Whether the sub-type can be selected by a user or case notes categorised by the sub-type are system generated';

COMMENT ON COLUMN case_note.id IS 'Public primary key';
COMMENT ON COLUMN case_note.person_identifier IS 'The prison number of the person the case note is for';
COMMENT ON COLUMN case_note.location_id IS 'The location of the person at the time the case note was created. A prison code, TRN or OUT';
COMMENT ON COLUMN case_note.author_username IS 'The username of the user who authored (created) the note';
COMMENT ON COLUMN case_note.author_user_id IS 'The NOMIS staff id of the user who created the note. This is a NOMIS internal primary key used to support consuming services reliant on it';
COMMENT ON COLUMN case_note.author_name IS 'The first and last name of the user at the time the case note was created. Does not update if their name changes';
COMMENT ON COLUMN case_note.sub_type_id IS 'Foreign key to case note sub-type categorising the note';
COMMENT ON COLUMN case_note.occurred_at IS 'The date and time the event the case note is recording took place. Will be on or before created at';
COMMENT ON COLUMN case_note.note_text IS 'The text of the case note';
COMMENT ON COLUMN case_note.created_at IS 'The date and time the case note was created. Will be on or after occurred at';
COMMENT ON COLUMN case_note.created_by IS 'The username of the user who created the case note';
COMMENT ON COLUMN case_note.legacy_id IS 'A numerical id for consuming services incompatible with UUID case note ids. Will be positive for migrated case notes and those synced from NOMIS, negative if created in the DPS database first';
COMMENT ON COLUMN case_note.system_generated IS 'Whether the case note was generated by a consuming service directly or as a side effect of another process';
COMMENT ON COLUMN case_note.system IS 'The system used to create the case note. Either DPS or NOMIS';

COMMENT ON COLUMN case_note_amendment.id IS 'Public primary key';
COMMENT ON COLUMN case_note_amendment.case_note_id IS 'Foreign key to case note';
COMMENT ON COLUMN case_note_amendment.author_username IS 'The username of the user who authored (created) the amendment';
COMMENT ON COLUMN case_note_amendment.author_user_id IS 'The NOMIS staff id of the user who created the amendment. This is a NOMIS internal primary key used to support consuming services reliant on it';
COMMENT ON COLUMN case_note_amendment.author_name IS 'The first and last name of the user at the time the amendment was created. Does not update if their name changes';
COMMENT ON COLUMN case_note_amendment.note_text IS 'The text of the amendment';
COMMENT ON COLUMN case_note_amendment.created_at IS 'The date and time the amendment was created';
COMMENT ON COLUMN case_note_amendment.created_by IS 'The username of the user who created the amendment';
COMMENT ON COLUMN case_note_amendment.system IS 'The system used to create the amendment. Either DPS or NOMIS';

COMMENT ON COLUMN case_note_deleted.id IS 'Internal primary key';
COMMENT ON COLUMN case_note_deleted.person_identifier IS 'The prison number of the person the case note was for';
COMMENT ON COLUMN case_note_deleted.case_note_id IS 'The public primary key assigned to the case note before it was deleted';
COMMENT ON COLUMN case_note_deleted.legacy_id IS 'The numerical id assigned to the case note before it was deleted';
COMMENT ON COLUMN case_note_deleted.case_note IS 'The original data of the deleted case note serialised to JSON';
COMMENT ON COLUMN case_note_deleted.deleted_at IS 'The date and time the case note was deleted';
COMMENT ON COLUMN case_note_deleted.deleted_by IS 'The username of the user who deleted the case note';
COMMENT ON COLUMN case_note_deleted.caseload_id IS 'The active caseload of the user when the case note was deleted';
COMMENT ON COLUMN case_note_deleted.system IS 'The system used to delete the case note. Either DPS or NOMIS';
COMMENT ON COLUMN case_note_deleted.cause IS 'What caused the case note to be deleted. A merge, admin level update from NOMIS or an explicit delete request';
COMMENT ON COLUMN case_note_deleted.reason IS 'Intended to capture a user entered reason for editing or deleting the case note';